@model ExamSystem.Models.Uploads

@{
    ViewData["Title"] = "Details";
    Layout = "_Layout";
    //Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

@{
    if (ViewBag.filetype != null)
    {
        <h4><strong>Error:</strong>@ViewBag.filetype</h4>
    }

}
<div class="row">
    <div class="col">
        <table class="table">
            <tr>
                <td>
                    @{
                        string Path = "";
                        string typeName = "";
                        if (Model.FileType == UploadsCategory.PastPapers) //pastpapers
                        {
                            Path = @WC.UploadPastPaper;
                            Enum.TryParse(Model.Code.ToString(), out PastPapersEnum codeValue);
                            typeName = codeValue.ToString();
                            <a class="btn btn-secondary" asp-controller="Corner" asp-action="PastPaper"> <i class="fa fa-arrow-left"></i> Back</a>
                        }
                        else if (Model.FileType == UploadsCategory.Notes) //Notes
                        {
                            Path = @WC.UploadNotes;
                            Enum.TryParse(Model.Code.ToString(), out NotesEnum codeValue);
                            typeName = codeValue.ToString();
                            <a class="btn btn-secondary" asp-controller="Corner" asp-action="Notes"> <i class="fa fa-arrow-left"></i> Back</a>
                        }
                        else if (Model.FileType == UploadsCategory.Syllabus) //syllabus
                        {
                            Path = @WC.UploadSyllabus;
                            Enum.TryParse(Model.Code.ToString(), out SyllabusEnum codeValue);
                            typeName = codeValue.ToString();
                            <a class="btn btn-secondary" asp-controller="Corner" asp-action="Syllabus"> <i class="fa fa-arrow-left"></i> Back</a>
                        }
                        else if (Model.FileType == UploadsCategory.Decorate) //syllabus
                        {
                            Path = @WC.UploadDecorate;
                            Enum.TryParse(Model.Code.ToString(), out DecorateEnum codeValue);
                            typeName = codeValue.ToString();
                            <a class="btn btn-secondary" asp-controller="Corner" asp-action="Decorate"> <i class="fa fa-arrow-left"></i> Back</a>
                        }
                    }
                </td>
                <td>File Name: @Model.FileName</td>
                <td>Category: @typeName</td>
                <td>Submitted by: @Model.CreatedBy</td>
                <td>Date: @Model.CreatedOn</td>
            </tr>
        </table>
    </div>
</div>
<div class="row">
    <div class="col">
        <center>
            <iframe src="@Path@Model.FileName" width="1000" height="520">
            </iframe>
            <p>@Model.Description</p>
        </center>
    </div>
</div>
